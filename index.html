<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –∫–æ—Ç—è üíô</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <style>
    :root {
      --page-bg: radial-gradient(circle at top, #00afff 0%, #8fff00 45%, #0d80a1 80%);
      --story-bg: linear-gradient(180deg, rgba(240,247,252,0.02) 0%, rgba(215,228,238,0.28) 100%);
      --border: rgba(255,255,255,0.28);
      --text: #163244;
      --muted: rgba(22,50,68,0.7);
      --btn: rgba(223,235,245,0.35);
      --btn-border: rgba(223,235,245,0.5);
      --card: rgba(235,245,252,0.28);
    }
    * { box-sizing: border-box; }
    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      justify-content: center;
      align-items: center;
      background: var(--page-bg);
      font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
      padding: 14px;
    }
    /* —Å—Ç–æ—Ä–∏—Å-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä */
    .story {
      width: min(390px, 100%);
      height: 700px;
      background: var(--story-bg);
      border: 1px solid var(--border);
      border-radius: 32px;
      backdrop-filter: blur(14px);
      box-shadow: 0 30px 60px rgba(17, 31, 44, 0.12);
      overflow: hidden;
      display: flex;
      flex-direction: column;
      position: relative;
      animation: breathe 8s ease-in-out infinite;
    }
    @keyframes breathe {
      0%,100% { transform: translateY(0); }
      50% { transform: translateY(-2px); }
    }

    /* –≤–µ—Ä—Ö–Ω—è—è –ø–æ–ª–æ—Å–∫–∞ */
    .progress {
      height: 4px;
      background: rgba(223,235,245,0.15);
      width: 90%;
      border-radius: 999px;
      margin: 14px auto 0;
      overflow: hidden;
    }
    .progress-inner {
      height: 100%;
      width: 20%;
      background: linear-gradient(90deg, rgba(255,255,255,0.7) 0%, rgba(197,222,238,1) 100%);
      transition: .3s;
    }

    /* —Ñ–æ–Ω–æ–≤—ã–µ –∫—Ä—É–∂–∫–∏ */
    .orb {
      position: absolute;
      width: 160px;
      height: 160px;
      border-radius: 999px;
      background: radial-gradient(circle, rgba(255, 255, 255, 0.14), rgba(255,255,255,0));
      pointer-events: none;
      opacity: .6;
      filter: drop-shadow(0 10px 25px rgba(154,188,210,0.28));
    }
    .orb.o1 { top: 70px; right: -40px; animation: float1 9s ease-in-out infinite; }
    .orb.o2 { top: 300px; left: -30px; width: 130px; height: 130px; animation: float2 11s ease-in-out infinite; }
    .orb.o3 { bottom: 60px; right: 10px; width: 110px; height: 110px; animation: float3 10s ease-in-out infinite; }

    @keyframes float1 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-10px)} }
    @keyframes float2 { 0%,100%{transform:translateY(0) translateX(0)} 50%{transform:translateY(8px) translateX(4px)} }
    @keyframes float3 { 0%,100%{transform:translateY(0)} 50%{transform:translateY(-6px)} }

    .screens {
      flex: 1;
      display: flex;
      flex-direction: column;
      position: relative;
      z-index: 1;
    }
    .screen {
      flex: 1;
      display: none;
      flex-direction: column;
      align-items: center;
      text-align: center;
      padding: 32px 18px 18px;
      gap: 14px;
      animation: fade .35s ease;
    }
    .screen.active { display: flex; }
    @keyframes fade {
      from { opacity: 0; transform: translateY(6px); }
      to { opacity: 1; transform: translateY(0); }
    }

    .title {
      font-size: 1.35rem;
      font-weight: 700;
      color: var(--text);
    }
    .subtitle {
      font-size: .8rem;
      color: var(--muted);
      max-width: 265px;
      line-height: 1.4;
    }

    .emoji {
      font-size: 2.4rem;
      margin-bottom: 4px;
      animation: wobble 4s ease-in-out infinite;
    }
    @keyframes wobble {
      0%,100%{transform:translateY(0)}
      50%{transform:translateY(-3px)}
    }

    .choices {
      width: 100%;
      margin-top: auto;
      margin-bottom: 28px;
      display: flex;
      flex-direction: column;
      gap: 10px;
      align-items: center;
    }
    .choice-btn {
      width: 88%;
      background: var(--btn);
      border: 1px solid var(--btn-border);
      border-radius: 16px;
      padding: 10px 14px;
      font-weight: 500;
      font-size: .8rem;
      color: rgba(25,46,61,0.96);
      display: flex;
      gap: 6px;
      justify-content: center;
      align-items: center;
      cursor: pointer;
      transition: transform .12s, box-shadow .12s, background .12s;
      backdrop-filter: blur(18px);
      position: relative;
      overflow: hidden;
    }
    .choice-btn::after {
      content: "";
      position: absolute;
      inset: 0;
      background: radial-gradient(circle at top, rgba(255,255,255,0.35), transparent 60%);
      opacity: 0;
      transition: .12s;
    }
    .choice-btn:hover {
      background: rgba(231,242,250,0.7);
      transform: translateY(-1px);
      box-shadow: 0 6px 16px rgba(11,30,43,0.12);
    }
    .choice-btn:hover::after { opacity: 1; }

    .text-card {
      background: rgba(233,244,252,0.38);
      border: 1px solid rgba(233,244,252,0.5);
      border-radius: 20px;
      padding: 16px 16px 12px;
      max-width: 280px;
      line-height: 1.5;
      font-size: .82rem;
      color: rgba(11,30,43,0.85);
      animation: fade .35s ease;
    }

    .back {
      position: absolute;
      top: 14px;
      left: 14px;
      width: 34px;
      height: 34px;
      border-radius: 999px;
      background: rgba(214,230,243,0.55);
      border: 1px solid rgba(248,250,252,0.2);
      display: none;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      font-size: 1.1rem;
      color: rgba(16,39,53,0.9);
      backdrop-filter: blur(10px);
      z-index: 3;
      transition: .12s;
    }
    .back:hover { background: rgba(214,230,243,0.85); }
    .back.show { display: flex; }

    .bottom-note {
      position: absolute;
      bottom: 6px;
      width: 100%;
      text-align: center;
      font-size: .6rem;
      color: rgba(2,16,27,0.35);
      z-index: 1;
    }

    @media (max-width: 420px) {
      .story { height: 92vh; }
    }
  </style>
</head>
<body>
  <div class="story">
    <div class="progress">
      <div class="progress-inner" id="progress"></div>
    </div>

    <!-- –ø–ª–∞–≤–Ω—ã–µ –≥–æ–ª—É–±—ã–µ —ç–ª–µ–º–µ–Ω—Ç—ã -->
    <div class="orb o1"></div>
    <div class="orb o2"></div>
    <div class="orb o3"></div>

    <button class="back" id="backBtn" onclick="goBack()">‚Äπ</button>

    <div class="screens">
      <!-- —Å—Ç–∞—Ä—Ç -->
      <div class="screen active" id="start">
        <div class="emoji">üíô</div>
        <div class="title">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ ü´∂</div>
        <div class="subtitle">—Å–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –≤—ã–±—Ä–∞—Ç—å –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ</div>
        <div class="choices">
          <button class="choice-btn" onclick="openScreen('sleepy')">üò¥ –°–æ–Ω–Ω–æ–µ</button>
          <button class="choice-btn" onclick="openScreen('energetic')">‚ö° –ë–æ–¥—Ä–æ–µ</button>
          <button class="choice-btn" onclick="openScreen('soft')">ü´ß –ù–µ–∂–Ω–æ–µ</button>
        </div>
      </div>

      <!-- —Å–æ–Ω–Ω–æ–µ -->
      <div class="screen" id="sleepy">
        <div class="emoji">üò¥</div>
        <div class="title" style="font-size:1.12rem;">–û—á–µ–Ω—å —Ç–∏—Ö–æ–µ —É—Ç—Ä–æ</div>
        <div class="text-card">
          –ú–æ–∂–Ω–æ –ø—Ä–æ—Å—ã–ø–∞—Ç—å—Å—è –º–µ–¥–ª–µ–Ω–Ω–æ,  
          –Ω–µ –æ—Ç–≤–µ—á–∞—Ç—å —Å—Ä–∞–∑—É –∏ –ø–∏—Ç—å —á—Ç–æ-—Ç–æ —Ç—ë–ø–ª–æ–µ.  
          –¢—ã –¥–∞–∂–µ —Å–æ–Ω–Ω–∞—è ‚Äî –æ—á–µ–Ω—å –º–∏–ª–∞—è üíô
        </div>
        <div class="choices">
          <button class="choice-btn" onclick="openScreen('finalSleepy')">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ üíå</button>
        </div>
      </div>

      <!-- –±–æ–¥—Ä–æ–µ -->
      <div class="screen" id="energetic">
        <div class="emoji">‚ö°</div>
        <div class="title" style="font-size:1.12rem;">–£—Ç—Ä–æ —Å —ç–Ω–µ—Ä–≥–∏–µ–π</div>
        <div class="text-card">
          –ü—É—Å—Ç—å –≤—Å—ë, —á—Ç–æ —Ç—ã –∑–∞–¥—É–º–∞–ª–∞, –ø–æ–ª—É—á–∞–µ—Ç—Å—è –ª–µ–≥–∫–æ,  
          –∞ –Ω–∞—Å—Ç—Ä–æ–µ–Ω–∏–µ –¥–µ—Ä–∂–∏—Ç—Å—è –≤—ã—Å–æ–∫–æ.  
          –ò –ø—Ä–∏ —ç—Ç–æ–º —Ç—ã –≤—ã–≥–ª—è–¥–∏—à—å —Ç–∞–∫ –∂–µ —á—É–¥–µ—Å–Ω–æ ‚ú®
        </div>
        <div class="choices">
          <button class="choice-btn" onclick="openScreen('finalEnergetic')">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ üíå</button>
        </div>
      </div>

      <!-- –Ω–µ–∂–Ω–æ–µ -->
      <div class="screen" id="soft">
        <div class="emoji">ü´ß</div>
        <div class="title" style="font-size:1.12rem;">–ù–µ–∂–Ω–æ–µ —É—Ç—Ä–æ</div>
        <div class="text-card">
          –°–µ–≥–æ–¥–Ω—è –º–æ–∂–Ω–æ –≥–æ–≤–æ—Ä–∏—Ç—å –º—è–≥–∫–æ,  
          –¥–µ–ª–∞—Ç—å –≤—Å—ë –≤ —Å–≤–æ—ë–º —Ç–µ–º–ø–µ  
          –∏ –ø—Ä–æ—Å—Ç–æ –±—ã—Ç—å –ª—é–±–∏–º–æ–π –¥–µ–≤–æ—á–∫–æ–π üíô
        </div>
        <div class="choices">
          <button class="choice-btn" onclick="openScreen('finalSoft')">–ü–æ–ª—É—á–∏—Ç—å –¥–æ–±—Ä–æ–µ —É—Ç—Ä–æ üíå</button>
        </div>
      </div>

      <!-- —Ñ–∏–Ω–∞–ª—ã -->
      <div class="screen" id="finalSleepy">
        <div class="emoji">ü´∂</div>
        <div class="title">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –∫–æ—Ç—è</div>
        <div class="text-card">
          –ü—É—Å—Ç—å —Ç–µ–±—è —Å–µ–≥–æ–¥–Ω—è –±–µ—Ä–µ–≥—É—Ç –∏ –Ω–µ –¥—ë—Ä–≥–∞—é—Ç.  
          –¢—ã –æ—á–µ–Ω—å —Ö–æ—Ä–æ—à–∞—è, –¥–∞–∂–µ –µ—Å–ª–∏ —Ö–æ—á–µ—à—å —Å–ø–∞—Ç—å üíô
        </div>
      </div>

      <div class="screen" id="finalEnergetic">
        <div class="emoji">üå§Ô∏è</div>
        <div class="title">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –∫–æ—Ç—è</div>
        <div class="text-card">
          –ü—É—Å—Ç—å –¥–µ–Ω—å –±—É–¥–µ—Ç —Å–≤–µ—Ç–ª—ã–º –∏ –¥–æ–±—Ä—ã–º –∫ —Ç–µ–±–µ.  
          –£ —Ç–µ–±—è –≤—Å—ë –ø–æ–ª—É—á–∏—Ç—Å—è, –∏ —Ç—ã –æ—Å—Ç–∞–Ω–µ—à—å—Å—è —Ç–∞–∫–æ–π –∫—Ä–∞—Å–∏–≤–æ–π, –∫–∞–∫ —Å–µ–π—á–∞—Å ‚ú®
        </div>
      </div>

      <div class="screen" id="finalSoft">
        <div class="emoji">üíó</div>
        <div class="title">–î–æ–±—Ä–æ–µ —É—Ç—Ä–æ, –∫–æ—Ç—è</div>
        <div class="text-card">
          –¢—ã –æ—á–µ–Ω—å —Ç—ë–ø–ª–∞—è. –ü—É—Å—Ç—å –ª—é–¥–∏ —Å–µ–≥–æ–¥–Ω—è –±—É–¥—É—Ç –∫ —Ç–µ–±–µ —Ç–∞–∫–∏–º–∏ –∂–µ.  
          –°–∞–º–æ–≥–æ –º—è–≥–∫–æ–≥–æ —É—Ç—Ä–∞ üíô
        </div>
      </div>
    </div>

    <div class="bottom-note">üíó</div>
  </div>

  <script>
    const historyStack = ['start'];
    const progress = document.getElementById('progress');
    const backBtn = document.getElementById('backBtn');

    function setProgress(step) {
      const map = {1: '20%', 2: '60%', 3: '100%'};
      progress.style.width = map[step] || '100%';
    }

    function showScreen(id) {
      document.querySelectorAll('.screen').forEach(s => s.classList.remove('active'));
      document.getElementById(id).classList.add('active');
    }

    function openScreen(id) {
      if (id.startsWith('final')) {
        setProgress(3);
      } else {
        setProgress(2);
      }
      historyStack.push(id);
      showScreen(id);
      if (historyStack.length > 1) {
        backBtn.classList.add('show');
      }
    }

    function goBack() {
      if (historyStack.length > 1) {
        historyStack.pop();
        const prev = historyStack[historyStack.length - 1];
        showScreen(prev);
        if (prev === 'start') {
          setProgress(1);
          backBtn.classList.remove('show');
        } else {
          setProgress(2);
        }
      }
    }

    // —Å—Ç–∞—Ä—Ç
    setProgress(1);
  </script>
</body>
</html>
